# Production Environment Configuration
# Copy this file to .env.production and update with actual values

# =============================================================================
# Application Settings
# =============================================================================
NODE_ENV=production
PORT=3000
API_PREFIX=api/v1

# =============================================================================
# Database Configuration (Azure Database for PostgreSQL)
# =============================================================================
# Format: postgresql://[user]:[password]@[host]:5432/[database]?sslmode=require
DATABASE_URL=postgresql://psqladmin:YOUR_PASSWORD@psql-questionnaire-prod.postgres.database.azure.com:5432/questionnaire?sslmode=require

# =============================================================================
# Redis Configuration (Azure Cache for Redis)
# =============================================================================
REDIS_HOST=redis-questionnaire-prod.redis.cache.windows.net
REDIS_PORT=6380
REDIS_PASSWORD=YOUR_REDIS_PRIMARY_KEY
# Note: Azure Redis requires TLS on port 6380

# =============================================================================
# JWT Authentication
# =============================================================================
# Generate secure secrets: openssl rand -base64 64
JWT_SECRET=YOUR_JWT_SECRET_64_CHARS
JWT_EXPIRES_IN=15m
JWT_REFRESH_SECRET=YOUR_JWT_REFRESH_SECRET_64_CHARS
JWT_REFRESH_EXPIRES_IN=7d

# =============================================================================
# Security
# =============================================================================
BCRYPT_ROUNDS=12

# =============================================================================
# Rate Limiting
# =============================================================================
THROTTLE_TTL=60000
THROTTLE_LIMIT=100
THROTTLE_LOGIN_LIMIT=5

# =============================================================================
# Logging
# =============================================================================
LOG_LEVEL=info

# =============================================================================
# CORS Configuration
# =============================================================================
# Comma-separated list of allowed origins for production
CORS_ORIGIN=https://quiz2biz.com,https://www.quiz2biz.com

# =============================================================================
# Azure Application Insights (optional but recommended)
# =============================================================================
APPLICATIONINSIGHTS_CONNECTION_STRING=InstrumentationKey=YOUR_INSTRUMENTATION_KEY;IngestionEndpoint=https://eastus-8.in.applicationinsights.azure.com/

# =============================================================================
# Swagger API Documentation
# =============================================================================
# Disable Swagger in production for security (set to false)
ENABLE_SWAGGER=false

# =============================================================================
# Azure Key Vault (optional - for managed secrets)
# =============================================================================
# AZURE_KEY_VAULT_URI=https://kv-questionnaire-prod.vault.azure.net/
